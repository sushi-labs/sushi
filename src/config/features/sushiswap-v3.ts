import type { Address } from 'viem'
import { EvmChainId } from '../../chain/evm/index.js'

const POOL_INIT_CODE_HASH =
  '0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54'

/**
 * The default factory enabled fee amounts, denominated in hundredths of bips.
 */

export enum SushiSwapV3FeeAmount {
  /** 0.01% */
  LOWEST = 100,
  /** 0.1% */
  LOW = 500,
  /** 0.3% */
  MEDIUM = 3000,
  /** 1% */
  HIGH = 10000,
}

/**
 * The default factory tick spacings by fee amount.
 */
export const TICK_SPACINGS: { [_amount in SushiSwapV3FeeAmount]: number } = {
  [SushiSwapV3FeeAmount.LOWEST]: 1,
  [SushiSwapV3FeeAmount.LOW]: 10,
  [SushiSwapV3FeeAmount.MEDIUM]: 60,
  [SushiSwapV3FeeAmount.HIGH]: 200,
}

// SUSHISWAP
export const SUSHISWAP_V3_FACTORY_ADDRESS: Record<
  SushiSwapV3ChainId | DeprecatedSushiSwapV3ChainId,
  Address
> = {
  [EvmChainId.ARBITRUM_NOVA]: '0xaa26771d497814E81D305c511Efbb3ceD90BF5bd',
  [EvmChainId.ARBITRUM]: '0x1af415a1EbA07a4986a52B6f2e7dE7003D82231e',
  [EvmChainId.AVALANCHE]: '0x3e603C14aF37EBdaD31709C4f848Fc6aD5BEc715',
  [EvmChainId.BSC]: '0x126555dd55a39328F69400d6aE4F782Bd4C34ABb',
  [EvmChainId.BTTC]: '0xBBDe1d67297329148Fe1ED5e6B00114842728e65',
  // [EvmChainId.CELO]: '',
  [EvmChainId.ETHEREUM]: '0xbACEB8eC6b9355Dfc0269C18bac9d6E2Bdc29C4F',
  [EvmChainId.FANTOM]: '0x7770978eED668a3ba661d51a773d3a992Fc9DDCB',
  [EvmChainId.FUSE]: '0x1b9d177CcdeA3c79B6c8F40761fc8Dc9d0500EAa',
  [EvmChainId.GNOSIS]: '0xf78031CBCA409F2FB6876BDFDBc1b2df24cF9bEf',
  [EvmChainId.KAVA]: '0x1e9B24073183d5c6B7aE5FB4b8f0b1dd83FDC77a',
  [EvmChainId.METIS]: '0x145d82bCa93cCa2AE057D1c6f26245d1b9522E6F',
  // [EvmChainId.MOONBEAM]: '0x2ecd58F51819E8F8BA08A650BEA04Fc0DEa1d523',
  [EvmChainId.MOONRIVER]: '0x2F255d3f3C0A3726c6c99E74566c4b18E36E3ce6',
  [EvmChainId.OPTIMISM]: '0x9c6522117e2ed1fE5bdb72bb0eD5E3f2bdE7DBe0',
  [EvmChainId.POLYGON]: '0x917933899c6a5F8E37F31E19f92CdBFF7e8FF0e2',
  [EvmChainId.BOBA]: '0x0BE808376Ecb75a5CF9bB6D237d16cd37893d904',
  [EvmChainId.POLYGON_ZKEVM]: '0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506',
  [EvmChainId.THUNDERCORE]: '0xc35DADB65012eC5796536bD9864eD8773aBc74C4',
  [EvmChainId.HAQQ]: '0xc35DADB65012eC5796536bD9864eD8773aBc74C4',
  [EvmChainId.CORE]: '0xc35DADB65012eC5796536bD9864eD8773aBc74C4',
  // [EvmChainId.ZKSYNC_ERA]: '',
  [EvmChainId.LINEA]: '0xc35DADB65012eC5796536bD9864eD8773aBc74C4',
  [EvmChainId.BASE]: '0xc35DADB65012eC5796536bD9864eD8773aBc74C4',
  [EvmChainId.SCROLL]: '0x46B3fDF7b5CDe91Ac049936bF0bDb12c5d22202e',
  [EvmChainId.FILECOIN]: '0xc35DADB65012eC5796536bD9864eD8773aBc74C4',
  [EvmChainId.ZETACHAIN]: '0xB45e53277a7e0F1D35f2a77160e91e25507f1763',
  [EvmChainId.BLAST]: '0x7680D4B43f3d1d54d6cfEeB2169463bFa7a6cf0d',
  [EvmChainId.SKALE_EUROPA]: '0x51d15889b66A2c919dBbD624d53B47a9E8feC4bB',
  [EvmChainId.ROOTSTOCK]: '0x46B3fDF7b5CDe91Ac049936bF0bDb12c5d22202e',
  [EvmChainId.SONIC]: '0x46B3fDF7b5CDe91Ac049936bF0bDb12c5d22202e',
  [EvmChainId.HEMI]: '0xCdBCd51a5E8728E0AF4895ce5771b7d17fF71959',
  [EvmChainId.TATARA]: '0x9B3336186a38E1b6c21955d112dbb0343Ee061eE',
  [EvmChainId.KATANA]: '0x203e8740894c8955cB8950759876d7E7E45E04c1',
} as const

export const SUSHISWAP_V3_INIT_CODE_HASH: Record<
  SushiSwapV3ChainId | DeprecatedSushiSwapV3ChainId,
  Address
> = {
  [EvmChainId.ARBITRUM_NOVA]: POOL_INIT_CODE_HASH,
  [EvmChainId.ARBITRUM]: POOL_INIT_CODE_HASH,
  [EvmChainId.AVALANCHE]: POOL_INIT_CODE_HASH,
  [EvmChainId.BSC]: POOL_INIT_CODE_HASH,
  [EvmChainId.BTTC]: POOL_INIT_CODE_HASH,
  [EvmChainId.ETHEREUM]: POOL_INIT_CODE_HASH,
  [EvmChainId.FANTOM]: POOL_INIT_CODE_HASH,
  [EvmChainId.FUSE]: POOL_INIT_CODE_HASH,
  [EvmChainId.GNOSIS]: POOL_INIT_CODE_HASH,
  [EvmChainId.KAVA]: POOL_INIT_CODE_HASH,
  [EvmChainId.METIS]: POOL_INIT_CODE_HASH,
  [EvmChainId.MOONRIVER]: POOL_INIT_CODE_HASH,
  [EvmChainId.OPTIMISM]: POOL_INIT_CODE_HASH,
  [EvmChainId.POLYGON]: POOL_INIT_CODE_HASH,
  [EvmChainId.BOBA]: POOL_INIT_CODE_HASH,
  [EvmChainId.POLYGON_ZKEVM]: POOL_INIT_CODE_HASH,
  [EvmChainId.THUNDERCORE]: POOL_INIT_CODE_HASH,
  [EvmChainId.HAQQ]: POOL_INIT_CODE_HASH,
  [EvmChainId.CORE]: POOL_INIT_CODE_HASH,
  // [EvmChainId.ZKSYNC_ERA]: '',
  [EvmChainId.LINEA]: POOL_INIT_CODE_HASH,
  [EvmChainId.BASE]: POOL_INIT_CODE_HASH,
  [EvmChainId.SCROLL]: POOL_INIT_CODE_HASH,
  [EvmChainId.FILECOIN]: POOL_INIT_CODE_HASH,
  [EvmChainId.ZETACHAIN]: POOL_INIT_CODE_HASH,
  [EvmChainId.BLAST]:
    '0x8e13daee7f5a62e37e71bf852bcd44e7d16b90617ed2b17c24c2ee62411c5bae',
  [EvmChainId.SKALE_EUROPA]: POOL_INIT_CODE_HASH,
  [EvmChainId.ROOTSTOCK]: POOL_INIT_CODE_HASH,
  [EvmChainId.SONIC]: POOL_INIT_CODE_HASH,
  [EvmChainId.HEMI]: POOL_INIT_CODE_HASH,
  [EvmChainId.TATARA]: POOL_INIT_CODE_HASH,
  [EvmChainId.KATANA]:
    '0xe040f12c7cee3904b78f24f8fc395629c2e69525c2815da7a659f7483e378ecb',
} as const

export const SUSHISWAP_V3_POSITION_MANAGER: Record<
  SushiSwapV3ChainId | DeprecatedSushiSwapV3ChainId,
  Address
> = {
  [EvmChainId.ARBITRUM_NOVA]: '0x258f7E97149afd7D7F84fa63b10e4A3f0C38B788',
  [EvmChainId.ARBITRUM]: '0xF0cBce1942A68BEB3d1b73F0dd86C8DCc363eF49',
  [EvmChainId.AVALANCHE]: '0x18350b048AB366ed601fFDbC669110Ecb36016f3',
  [EvmChainId.BSC]: '0xF70c086618dcf2b1A461311275e00D6B722ef914',
  [EvmChainId.BTTC]: '0x57bfFa72db682f7eb6C132DAE03FF36bBEB0c459',
  // [EvmChainId.CELO]: '',
  [EvmChainId.ETHEREUM]: '0x2214A42d8e2A1d20635c2cb0664422c528B6A432',
  [EvmChainId.FANTOM]: '0x10c19390E1Ac2Fd6D0c3643a2320b0abA38E5bAA',
  [EvmChainId.FUSE]: '0x93395129bd3fcf49d95730D3C2737c17990fF328',
  [EvmChainId.GNOSIS]: '0xaB235da7f52d35fb4551AfBa11BFB56e18774A65',
  [EvmChainId.KAVA]: '0xbF3B71decBCEFABB3210B9D8f18eC22e0556f5F0',
  [EvmChainId.METIS]: '0x630BE2985674D31920BAbb4F96657960F131E7b1',
  // [EvmChainId.MOONBEAM]: '0x8f54301F315C56c112D492D9443047D4745dbe9e',
  [EvmChainId.MOONRIVER]: '0xD045d27c1f7e7f770a807B0a85d8e3F852e0F2BE',
  [EvmChainId.OPTIMISM]: '0x1af415a1EbA07a4986a52B6f2e7dE7003D82231e',
  [EvmChainId.POLYGON]: '0xb7402ee99F0A008e461098AC3A27F4957Df89a40',
  [EvmChainId.BOBA]: '0x1b9d177CcdeA3c79B6c8F40761fc8Dc9d0500EAa',
  [EvmChainId.POLYGON_ZKEVM]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  [EvmChainId.THUNDERCORE]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  [EvmChainId.HAQQ]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',
  [EvmChainId.CORE]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  // [EvmChainId.ZKSYNC_ERA]: '',
  [EvmChainId.LINEA]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',
  [EvmChainId.BASE]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',
  [EvmChainId.SCROLL]: '0x0389879e0156033202C44BF784ac18fC02edeE4f',
  [EvmChainId.FILECOIN]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  [EvmChainId.ZETACHAIN]: '0xCdBCd51a5E8728E0AF4895ce5771b7d17fF71959',
  [EvmChainId.BLAST]: '0x51edb3e5bcE8618B77b60215F84aD3DB14709051',
  [EvmChainId.SKALE_EUROPA]: '0xa4d2268f145CD5c835115441b877295C46F25b9b',
  [EvmChainId.ROOTSTOCK]: '0x0389879e0156033202C44BF784ac18fC02edeE4f',
  [EvmChainId.SONIC]: '0x0389879e0156033202C44BF784ac18fC02edeE4f',
  [EvmChainId.HEMI]: '0xe43ca1Dee3F0fc1e2df73A0745674545F11A59F5',
  [EvmChainId.TATARA]: '0x1400feFD6F9b897970f00Df6237Ff2B8b27Dc82C',
  [EvmChainId.KATANA]: '0x2659C6085D26144117D904C46B48B6d180393d27',
} as const

export const SUSHISWAP_V3_TICK_LENS: Record<
  SushiSwapV3ChainId | DeprecatedSushiSwapV3ChainId,
  Address
> = {
  [EvmChainId.ARBITRUM_NOVA]: '0xF60e5f4A44a510742457D8064ffd360B12d8D9AF',
  [EvmChainId.ARBITRUM]: '0x8516944E89f296eb6473d79aED1Ba12088016c9e',
  [EvmChainId.AVALANCHE]: '0xDdC1b5920723F774d2Ec2C3c9355251A20819776',
  [EvmChainId.BSC]: '0x10c19390E1Ac2Fd6D0c3643a2320b0abA38E5bAA',
  [EvmChainId.BTTC]: '0x1400feFD6F9b897970f00Df6237Ff2B8b27Dc82C',
  // [EvmChainId.CELO]: '',
  [EvmChainId.ETHEREUM]: '0xFB70AD5a200d784E7901230E6875d91d5Fa6B68c',
  [EvmChainId.FANTOM]: '0xD75F5369724b513b497101fb15211160c1d96550',
  [EvmChainId.FUSE]: '0xf78031CBCA409F2FB6876BDFDBc1b2df24cF9bEf',
  [EvmChainId.GNOSIS]: '0xaa26771d497814E81D305c511Efbb3ceD90BF5bd',
  [EvmChainId.KAVA]: '0xA62eC622DbA415Aa94110739B1f951B1202Cf322',
  [EvmChainId.METIS]: '0x078047150F8efa223B3d407f00E462e38f4B1b9C',
  // [EvmChainId.MOONBEAM]: '0x53b08DbD70327b7Ba3B7886Fc9987BC985d27262',
  [EvmChainId.MOONRIVER]: '0x6E9Aed2C4cF5ed7E8AB851435225fE1601a1Bc56',
  [EvmChainId.OPTIMISM]: '0x0367a647A68f304f2A6e453c25033a4249d7F2C6',
  [EvmChainId.POLYGON]: '0x9fdeA1412e50D78B25aCE4f96d35801647Fdf7dA',
  [EvmChainId.BOBA]: '0x9B3fF703FA9C8B467F5886d7b61E61ba07a9b51c',
  [EvmChainId.POLYGON_ZKEVM]: '0x0BE808376Ecb75a5CF9bB6D237d16cd37893d904',
  [EvmChainId.THUNDERCORE]: '0x0BE808376Ecb75a5CF9bB6D237d16cd37893d904',
  [EvmChainId.HAQQ]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  [EvmChainId.CORE]: '0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506',
  // [EvmChainId.ZKSYNC_ERA]: '',
  [EvmChainId.LINEA]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  [EvmChainId.BASE]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',
  [EvmChainId.SCROLL]: '0x1f2FCf1d036b375b384012e61D3AA33F8C256bbE',
  [EvmChainId.FILECOIN]: '0x1be211D8DA40BC0ae8719c6663307Bfc987b1d6c',
  [EvmChainId.ZETACHAIN]: '0xe43ca1Dee3F0fc1e2df73A0745674545F11A59F5',
  [EvmChainId.BLAST]: '0x039e87AB90205F9d87c5b40d4B28e2Be45dA4a20',
  [EvmChainId.SKALE_EUROPA]: '0x65A7158BE70a1270b01713910db7CBfe8d60fF4d',
  [EvmChainId.ROOTSTOCK]: '0x33d91116e0370970444B0281AB117e161fEbFcdD',
  [EvmChainId.SONIC]: '0x33d91116e0370970444B0281AB117e161fEbFcdD',
  [EvmChainId.HEMI]: '0x1f2FCf1d036b375b384012e61D3AA33F8C256bbE',
  [EvmChainId.TATARA]: '0xb46e319390De313B8cc95EA5aa30C7bBFD79Da94',
  [EvmChainId.KATANA]: '0x35DC3E13469E980c37b6F288BBb9822B1f9bD435',
} as const

export const SUSHISWAP_V3_SUPPORTED_CHAIN_IDS = [
  EvmChainId.ARBITRUM_NOVA,
  EvmChainId.ARBITRUM,
  EvmChainId.AVALANCHE,
  EvmChainId.BSC,
  EvmChainId.BTTC,
  EvmChainId.ETHEREUM,
  EvmChainId.FANTOM,
  EvmChainId.GNOSIS,
  EvmChainId.OPTIMISM,
  EvmChainId.POLYGON,
  EvmChainId.BOBA,
  EvmChainId.THUNDERCORE,
  EvmChainId.HAQQ,
  EvmChainId.CORE,
  EvmChainId.LINEA,
  EvmChainId.BASE,
  EvmChainId.SCROLL,
  EvmChainId.KAVA,
  EvmChainId.METIS,
  EvmChainId.FILECOIN,
  EvmChainId.ZETACHAIN,
  EvmChainId.BLAST,
  EvmChainId.SKALE_EUROPA,
  EvmChainId.ROOTSTOCK,
  EvmChainId.SONIC,
  EvmChainId.HEMI,
  EvmChainId.TATARA,
  EvmChainId.KATANA,
] as const

export const SushiSwapV3ChainIds = SUSHISWAP_V3_SUPPORTED_CHAIN_IDS

export type SushiSwapV3ChainId =
  (typeof SUSHISWAP_V3_SUPPORTED_CHAIN_IDS)[number]

export const isSushiSwapV3ChainId = (
  chainId: EvmChainId,
): chainId is SushiSwapV3ChainId =>
  SUSHISWAP_V3_SUPPORTED_CHAIN_IDS.includes(chainId as SushiSwapV3ChainId)

export const DEPRECATED_SUSHISWAP_V3_CHAIN_IDS = [
  EvmChainId.FUSE,
  EvmChainId.MOONRIVER,
  EvmChainId.POLYGON_ZKEVM,
] as const

export const DeprecatedSushiSwapV3ChainIds = DEPRECATED_SUSHISWAP_V3_CHAIN_IDS

export type DeprecatedSushiSwapV3ChainId =
  (typeof DEPRECATED_SUSHISWAP_V3_CHAIN_IDS)[number]

export const isDeprecatedSushiSwapV3ChainId = (
  chainId: EvmChainId,
): chainId is DeprecatedSushiSwapV3ChainId =>
  DEPRECATED_SUSHISWAP_V3_CHAIN_IDS.includes(
    chainId as DeprecatedSushiSwapV3ChainId,
  )
